# Data Structure - 2


- 딕셔너리와 세트의 개념과 필요성 설명
- get, update, pop 등 딕셔너리 메서드 사용
- union, intersection, difference 등 세트 집합 연산으로 중복 제거 및 관계 분석
- 해시 테이블과 hashable의 원리 이해
- EBNF 메타기호 ([ ])를 해석해 공식 문서 읽기


-------


## 딕셔너리

키를 통한 값의 삽입, 삭제, 검색이 데이터의 크기와 관계없이 매우 빠르다 (이유는 해시테이블 참고)
**키**는 hashable한 고유 값이어야 하지만, **값**은 중복이 가능하고 어떤 자료형도 저장할 수 있다.

### 딕셔너리 메서드의 종류

- 값 반환
```
딕['k'] # 키에 연결된 값을 반환 (키가 없으면 에러)
.get('k') # 키에 연결된 값을 반환 (키가 없으면 None 반환)
.get('k', v) # 키에 연결된 값을 반환하거나 키가 없으면 기본 값으로 v 반환
```


- 객체 반환
```
person = {'name': 'alice', 'age': 20}
# 딕셔너리의 키를 모은 객체 반환 
.keys() # ['name', 'age']

# 딕셔너리의 값을 모은 객체 반환
.values() # ['alice', 20]

# 키 값 쌍을 모은 객체 반환
.items() # [('name', 'alice'), ('age', 25)]
```


- 제거 
```
.pop(k) # k를 제거하고 연결됐던 값을 반환 (없으면 오류)
.pop(k, v) # k를 제거하고 연결됐던 값을 반환 (없으면 v를 반환)
.clear() # 딕셔너리 모든 키 값 쌍 제거
```

여기에서 `clear()` 는 `d = {}` 와 같이 빈 객체를 재할당 하는 것과 다르다 

그 이유도 아래 해시테이블을 참고하자.


- 갱신, 추가
```
.setdefault(key[,default]) # 키와 연결된 값을 반환. 
# 키가 없다면, default와 연결한 키를 딕셔너리에 추가하고 default를 반환함 !!!!!!
# 유사 조건문 .. ㅎ

.update([other]) # other가 제공하는 키/ 값 쌍으로 딕셔너리를 갱신하고, 
								 # 기존 키는 덮어씀 없으면 추가함

other_person = {'name': 'jane', 'gender':'women'}
preson.update(other_person)
print(person) # {'name': 'jane', 'age': 20, 'gender':'women'}
```

[더 다양한 자료는 공식문서 참조](https://docs.python.org/3.11/library/stdtypes.html#dict)

## 세트


**고유한 항목**들의 **정렬되지 않은** 컬렉션이다.

내부적으로 해시 테이블을 사용하여 데이터를 저장한다.

항목의 고유성을 효율적으로 보장하며, 항목의 추가, 삭제, 존재 여부 확인이 데이터의 크기에 상관없이 매우 빠르다.

합집합, 교집합, 차집합 등 수학적인 집합 연산을 간편하게 수행할 수 있다.

*하지만  `리스트 > 세트 > 리스트` 로 변경했을 때 순서가 유지되지 않는다는 점은 참고*


### 세트 메서드의 종류


- 추가, 삭제
```
.add(x) # 세트에 항목 x를 추가. 이미 x가 있다면 변화 없음
.remove(x) # 세트에서 항목 x를 제거. 항목 x가 없을 경우 key error

.update(iterable) # 세트 s에 다른 iterable 요소를 추가
.pop() # 임의의 항목을 반환하고, 해당 항목을 제거 (랜덤과는 다르다)
.discard(X) # 항목 x를 제거. 에러 없음
.clear() # 모든 항목 제거
```


- 집합 메서드
```
# 1에는 들어있지만 2에는 없는 항목으로 세트를 생성 후 반환
set1.difference(set2) 
set1 - set2

# 모두 들어있는 항목으로 세트 생성 후 반환
set1.intersection(set2) 
set1 & set2

# set1의 항목이 모두 set2에 있으면 true 반환
set1.issubset(set2)
set1 <= set2

# set1이 set2의 항목을 모두 포함하면 true 반환
set1.issuperset(set2) 
set1 >= set2

# set1이 set2에 혹은 둘 다 들어있는 항목으로 세트를 생성 후 반환
set1.union(set2)
set1|set2
```

----

실습 중 헤맨 부분

```
result = set()
for s in sets:
	# result.union(s)
	result = result.union(s) 
return result 
```

처음에는 `result.union(s)` 이렇게 했더니 result에 아무것도 들어있지 않았다.

알고보니 union도 연산이기 때문에 위에 처럼 `result = result.union(s)` 값을 받아줄 객체가 필요했다.

`1+2 print(result)` 같은 짓 했다 .. 머쓱..

----

## 해시테이블 

키와 값을 짝지어 자장하는 자료 구조

키를 해시함수를 통해 해시 값으로 변환한다.

변환된 해시 값을 인덱스로 삼아 데이터를 저장하거나 찾는다. 
- 이로 인해 검색, 삽입, 삭제를 매우 빠르게 수행 가능하다.
    - 리스트는 무조건 다 순회해야하지만, 키로 데이터를 찾으면 해당 고유값으로 보내준다.(그래서 더 빠름)

**여기서 고유한 값으로 변환하는 과정을 *해시* 한다고 한다.**


## 해시

임의의 크기를 가진 데이터를 고정된 크기의 고유한 값으로 변환하는 것 

생성된 해시 값은 해당 데이터를 식별하는 지문 역할을 함.

파이썬에서는 이 해시 값을 이용해 해시 테이블에 데이터를 저장함

1. 고유한 값으로 변환(해시 값)
2. 해시 값을 사용하여 해시 테이블에 데이터를 저장함
3. 